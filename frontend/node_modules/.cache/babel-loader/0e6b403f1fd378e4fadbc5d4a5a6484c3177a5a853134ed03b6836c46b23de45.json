{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\srush\\\\hangman\\\\frontend\\\\src\\\\components\\\\Wait.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Wait({\n  user,\n  roomID,\n  gameState,\n  setGameState,\n  setUser,\n  mute\n}) {\n  _s();\n  const [formUser, setFormUser] = useState(\"\");\n  const [copy, setCopy] = useState(\"Copy Link\");\n  const timerRef = useRef();\n  const url = window.location.href;\n  const handleUpdate = useCallback(newState => {\n    setGameState({\n      ...newState\n    });\n  }, [setGameState]);\n  const handleSubmitJoin = e => {\n    e.preventDefault();\n    const credentials = {\n      roomID,\n      user: formUser\n    };\n    setUser(formUser);\n    setFormUser(\"\");\n    socket.emit(\"join\", credentials);\n    const message = `${formUser} has joined`;\n    const info = {\n      roomID,\n      user: \"join\",\n      message,\n      effects: true\n    };\n    socket.emit(\"chat\", info);\n  };\n  const validateUsername = () => {\n    const username = document.getElementById(\"username\");\n    if (gameState.players.includes(username.value)) {\n      username.setCustomValidity(\"Username is already taken\");\n    } else if (!/^[^\\s]+(\\s+[^\\s]+)*$/.test(username.value)) {\n      username.setCustomValidity(\"Guess cannot have leading or trailing spaces\");\n    } else if (username.value.length > 20) {\n      username.setCustomValidity(\"Username cannot be more than 20 characters\");\n    } else {\n      username.setCustomValidity(\"\");\n    }\n  };\n  const onButtonClick = () => {\n    socket.emit(\"start\", roomID);\n  };\n  const copyLink = () => {\n    navigator.clipboard.writeText(url).then(() => {\n      clearTimeout(timerRef.current);\n      setCopy(\"Copied!\");\n      timerRef.current = setTimeout(() => setCopy(\"Copy Link\"), 5000);\n    }, () => {\n      clearTimeout(timerRef.current);\n      setCopy(\"Failed to Copy\");\n      timerRef.current = setTimeout(() => setCopy(\"Copy Link\"), 5000);\n    });\n  };\n  useEffect(() => {\n    socket.on(\"update\", handleUpdate);\n    socket.emit(\"joinRoom\", roomID);\n    return () => {\n      socket.off(\"update\", handleUpdate);\n    };\n  }, [roomID, handleUpdate]);\n  const render = () => {\n    if (gameState && gameState.players.length >= gameState.cap && user === \"\") {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Sorry, Room is full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        paragraph: true,\n        children: \"Players\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), gameState.players.map(player => /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: player\n      }, player, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), user === gameState.hanger && gameState.players.length >= 2 && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: onButtonClick,\n        children: \"Start game!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), !gameState.players.includes(user) && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"wait\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitJoin,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            htmlFor: \"username\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"text\",\n            value: formUser,\n            onChange: e => setFormUser(e.target.value),\n            onInput: validateUsername,\n            id: \"username\",\n            name: \"username\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        paragraph: true,\n        children: [\"Share this link with your friends:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), url, \" \", /*#__PURE__*/_jsxDEV(Button, {\n          onClick: copyLink,\n          color: \"primary\",\n          children: copy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: render()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 10\n  }, this);\n}\n_s(Wait, \"S//XzaQ9LN3i32gRZYtk7Tx9/9g=\");\n_c = Wait;\nexport default Wait;\nvar _c;\n$RefreshReg$(_c, \"Wait\");","map":{"version":3,"names":["Wait","user","roomID","gameState","setGameState","setUser","mute","_s","formUser","setFormUser","useState","copy","setCopy","timerRef","useRef","url","window","location","href","handleUpdate","useCallback","newState","handleSubmitJoin","e","preventDefault","credentials","socket","emit","message","info","effects","validateUsername","username","document","getElementById","players","includes","value","setCustomValidity","test","length","onButtonClick","copyLink","navigator","clipboard","writeText","then","clearTimeout","current","setTimeout","useEffect","on","off","render","cap","_jsxDEV","children","fileName","_jsxFileName","lineNumber","columnNumber","_Fragment","Typography","variant","paragraph","map","player","hanger","Button","color","onClick","id","onSubmit","InputLabel","htmlFor","TextField","type","onChange","target","onInput","name","required","_c","$RefreshReg$"],"sources":["C:/Users/srush/hangman/frontend/src/components/Wait.jsx"],"sourcesContent":["\r\nfunction Wait({ user, roomID, gameState, setGameState, setUser, mute }) {\r\n  const [formUser, setFormUser] = useState(\"\");\r\n  const [copy, setCopy] = useState(\"Copy Link\");\r\n  const timerRef = useRef();\r\n  const url = window.location.href;\r\n\r\n  const handleUpdate = useCallback((newState) => {\r\n    setGameState({ ...newState });\r\n  }, [setGameState]);\r\n\r\n  const handleSubmitJoin = (e) => {\r\n    e.preventDefault();\r\n\r\n    const credentials = {\r\n      roomID,\r\n      user: formUser,\r\n    };\r\n\r\n    setUser(formUser);\r\n    setFormUser(\"\");\r\n\r\n    socket.emit(\"join\", credentials);\r\n\r\n    const message = `${formUser} has joined`;\r\n\r\n    const info = {\r\n      roomID,\r\n      user: \"join\",\r\n      message,\r\n      effects: true,\r\n    };\r\n\r\n    socket.emit(\"chat\", info);\r\n  };\r\n\r\n  const validateUsername = () => {\r\n    const username = document.getElementById(\"username\");\r\n\r\n    if (gameState.players.includes(username.value)) {\r\n      username.setCustomValidity(\"Username is already taken\");\r\n    } else if (!/^[^\\s]+(\\s+[^\\s]+)*$/.test(username.value)) {\r\n      username.setCustomValidity(\r\n        \"Guess cannot have leading or trailing spaces\"\r\n      );\r\n    } else if (username.value.length > 20) {\r\n      username.setCustomValidity(\"Username cannot be more than 20 characters\");\r\n    } else {\r\n      username.setCustomValidity(\"\");\r\n    }\r\n  };\r\n\r\n  const onButtonClick = () => {\r\n    socket.emit(\"start\", roomID);\r\n  };\r\n\r\n  const copyLink = () => {\r\n    navigator.clipboard.writeText(url).then(\r\n      () => {\r\n        clearTimeout(timerRef.current);\r\n        setCopy(\"Copied!\");\r\n        timerRef.current = setTimeout(() => setCopy(\"Copy Link\"), 5000);\r\n      },\r\n      () => {\r\n        clearTimeout(timerRef.current);\r\n        setCopy(\"Failed to Copy\");\r\n        timerRef.current = setTimeout(() => setCopy(\"Copy Link\"), 5000);\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"update\", handleUpdate);\r\n    socket.emit(\"joinRoom\", roomID);\r\n\r\n    return () => {\r\n      socket.off(\"update\", handleUpdate);\r\n    };\r\n  }, [roomID, handleUpdate]);\r\n\r\n  const render = () => {\r\n    if (gameState && gameState.players.length >= gameState.cap && user === \"\") {\r\n      return <p>Sorry, Room is full</p>;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Typography variant=\"h4\" paragraph>\r\n          Players\r\n        </Typography>\r\n\r\n        {gameState.players.map((player) => (\r\n          <Typography key={player} variant=\"h6\">\r\n            {player}\r\n          </Typography>\r\n        ))}\r\n\r\n        <br />\r\n\r\n        {user === gameState.hanger && gameState.players.length >= 2 && (\r\n          <Button variant=\"contained\" color=\"primary\" onClick={onButtonClick}>\r\n            Start game!\r\n          </Button>\r\n        )}\r\n\r\n        {!gameState.players.includes(user) && (\r\n          <div id=\"wait\">\r\n            <form onSubmit={handleSubmitJoin}>\r\n              <InputLabel htmlFor=\"username\">Username</InputLabel>\r\n              <TextField\r\n                type=\"text\"\r\n                value={formUser}\r\n                onChange={(e) => setFormUser(e.target.value)}\r\n                onInput={validateUsername}\r\n                id=\"username\"\r\n                name=\"username\"\r\n                required\r\n              />\r\n            </form>\r\n          </div>\r\n        )}\r\n\r\n        <br />\r\n        <br />\r\n\r\n        <Typography paragraph>\r\n          Share this link with your friends:\r\n          <br />\r\n          {url}{\" \"}\r\n          <Button onClick={copyLink} color=\"primary\">\r\n            {copy}\r\n          </Button>\r\n        </Typography>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return <div>{render()}</div>;\r\n}\r\n\r\nexport default Wait;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}